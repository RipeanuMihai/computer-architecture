
\begin{frame}
    \frametitle{Exam Questions}
    Template: Given the following set of micro-instruction $\mu P(\mu I)$, with every micro-instruction table of micro-operations $\mu P(\mu O)$ executed in the table. Compute the minimal microinstruction coding.

    Example:

    $\mu P(\mu I) = \{ \mu I_{0}, \mu I_{1}, \mu I_{2}, \mu I_{3}, \mu I_{4}, \mu I_{5}, \mu I_{6}\}$
    $\mu P(\mu O) = \{ \mu O_{0}, \mu O_{1}, \mu O_{2}, \mu O_{3}, \mu O_{4}, \mu O_{5}, \mu O_{6}, \mu O_{7}, \mu O_{8}, \mu O_{9}\}$.
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
        \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
            \hline
            $\mu I$ & $\mu O_{0}$ & $\mu O_{1}$ & $\mu O_{2}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{5}$ & $\mu O_{6}$ & $\mu O_{7}$ & $\mu O_{8}$ & $\mu O_{9}$ \\
            \hline
            \hline
            $\mu I_{0}$ & 1 & 1 & 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ \hline
            $\mu I_{1}$ & 1 & 0 & 1 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\ \hline
            $\mu I_{2}$ & 0 & 1 & 0 & 0 & 0 & 1 & 0 & 1 & 1 & 0 \\ \hline
            $\mu I_{3}$ & 0 & 0 & 0 & 1 & 1 & 0 & 1 & 1 & 0 & 0 \\ \hline
            $\mu I_{4}$ & 0 & 0 & 1 & 1 & 1 & 1 & 1 & 0 & 0 & 0 \\ \hline
            $\mu I_{5}$ & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 1 & 1 \\ \hline
            $\mu I_{6}$ & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 1 \\ \hline
        \end{tabular}%
        }
    \end{table}
\end{frame}

\begin{frame}
    \frametitle{Solution - Table of incompatible operations}
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
            \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
                \hline
                $\mu O$ & $\mu O_{0}$ & $\mu O_{1}$ & $\mu O_{2}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{5}$ & $\mu O_{6}$ & $\mu O_{7}$ & $\mu O_{8}$ & $\mu O_{9}$ \\ \hline
                $\mu O_{0}$ & 1 & 1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 & 0 \\ \hline
                $\mu O_{1}$ & 1 & 1 & 0 & 1 & 0 & 1 & 0 & 1 & 1 & 0 \\ \hline
                $\mu O_{2}$ & 1 & 0 & 1 & 1 & 1 & 1 & 1 & 0 & 0 & 0 \\ \hline
                $\mu O_{3}$ & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 0 & 0 \\ \hline
                $\mu O_{4}$ & 1 & 0 & 1 & 1 & 1 & 1 & 1 & 1 & 0 & 0 \\ \hline
                $\mu O_{5}$ & 0 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\ \hline
                $\mu O_{6}$ & 0 & 0 & 1 & 1 & 1 & 1 & 1 & 1 & 0 & 1 \\ \hline
                $\mu O_{7}$ & 0 & 1 & 0 & 1 & 1 & 1 & 1 & 1 & 1 & 0 \\ \hline
                $\mu O_{8}$ & 0 & 1 & 0 & 0 & 0 & 1 & 0 & 1 & 1 & 1 \\ \hline
                $\mu O_{9}$ & 0 & 0 & 0 & 0 & 0 & 1 & 1 & 0 & 1 & 1 \\ \hline
            \end{tabular}%
        }
    \end{table}
\end{frame}

\begin{frame}
    \frametitle{Solution - Maximum incompatible classes}
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
            \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
                \hline
                $MIC$ & $\mu O_{0}$ & $\mu O_{1}$ & $\mu O_{2}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{5}$ & $\mu O_{6}$ & $\mu O_{7}$ & $\mu O_{8}$ & $\mu O_{9}$ \\ \hline
                $MIC(\mu O_{0})$ & 1 & 1 & 0 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\ \hline
                $MIC(\mu O_{1})$ & 1 & 0 & 1 & 1 & 1 & 0 & 0 & 0 & 0 & 0 \\ \hline
                $MIC(\mu O_{2})$ & 0 & 1 & 0 & 1 & 0 & 1 & 0 & 1 & 0 & 0 \\ \hline
                $MIC(\mu O_{3})$ & 0 & 1 & 0 & 0 & 0 & 1 & 0 & 1 & 1 & 0 \\ \hline
                $MIC(\mu O_{4})$ & 0 & 0 & 1 & 1 & 1 & 1 & 1 & 0 & 0 & 0 \\ \hline
                $MIC(\mu O_{5})$ & 0 & 0 & 0 & 1 & 1 & 1 & 1 & 1 & 0 & 0 \\ \hline
                $MIC(\mu O_{6})$ & 0 & 0 & 0 & 0 & 0 & 1 & 1 & 0 & 0 & 1 \\ \hline
                $MIC(\mu O_{7})$ & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 1 & 1 \\ \hline
            \end{tabular}%
        }
    \end{table}
    \note{
        To make incompatible classes we choose micro-operation from the table of incompatible operations and AND their rows.
        If there is a 1 in the result that micro-operation is incompatible with the other micro-operations and is can be
        added to the incompatible class. If there are only 0s in the result than the current set of micro-operations is a maximum incompatible class.
    }
\end{frame}

\begin{frame}
    \frametitle{Solution - Maximum compatible classes}
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
            \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
                \hline
                $MCC$ & $\mu O_{0}$ & $\mu O_{1}$ & $\mu O_{2}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{5}$ & $\mu O_{6}$ & $\mu O_{7}$ & $\mu O_{8}$ & $\mu O_{9}$ \\ \hline
                $MCC_{0}$ & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ \hline
                $MCC_{1}$ & 1 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 1 & 0 \\ \hline
                $MCC_{2}$ & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 1 \\ \hline
                $MCC_{3}$ & 0 & 1 & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 1 \\ \hline
                $MCC_{4}$ & 0 & 1 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 \\ \hline
                $MCC_{5}$ & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ \hline
                $MCC_{6}$ & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 1 \\ \hline
                $MCC_{7}$ & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\ \hline
                $MCC_{8}$ & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 \\ \hline
                $MCC_{9}$ & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 & 1 \\ \hline
                $MCC_{10}$ & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 1 & 0 \\ \hline
            \end{tabular}%
        }
    \end{table}
\end{frame}

\begin{frame}
    \frametitle{Solution - Associated maximum compatible classes}
    Select the maximum incompatible class with the biggest cardinality. In this case is $MIC(\mu O_{4})$ or $MIC(\mu O_{5})$.
    Let's choose $MIC(\mu O_{5})$.
    $AMCC(\mu O_{i} \in MIC(\mu O_{5})) = \{ MCC_{0}, MCC_{1}, MCC_{2}, MCC_{4}, MCC_{5}, MCC_{6}, MCC_{8}, MCC_{9}, MCC_{10}\}$
    
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
            \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
                \hline
                $MCC$ & $\mu O_{0}$ & $\mu O_{1}$ & $\mu O_{2}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{5}$ & $\mu O_{6}$ & $\mu O_{7}$ & $\mu O_{8}$ & $\mu O_{9}$ \\ \hline
                $MCC_{0}$ & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 \\ \hline
                $MCC_{1}$ & 1 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 1 & 0 \\ \hline
                $MCC_{2}$ & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 1 \\ \hline
                $MCC_{4}$ & 0 & 1 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 \\ \hline
                $MCC_{5}$ & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ \hline
                $MCC_{6}$ & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 1 \\ \hline
                $MCC_{8}$ & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 \\ \hline
                $MCC_{9}$ & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 & 1 \\ \hline
                $MCC_{10}$ & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 1 & 0 \\ \hline
            \end{tabular}%
        }
    \end{table}
\end{frame}

\begin{frame}
    \frametitle{Solution - Essential compatible classes}
    Select the essential compatible classes. In this case $MCC_{0}$ and $MCC_{6}$.
    $S = \{MCC_{0}, MCC_{6}\}$.
    % \begin{table}
    %     \resizebox{0.8\textwidth}{!}{%
    %         \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
    %             \hline
    %             $MCC$ & $\mu O_{0}$ & $\mu O_{1}$ & $\mu O_{2}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{5}$ & $\mu O_{6}$ & $\mu O_{7}$ & $\mu O_{8}$ & $\mu O_{9}$ \\ \hline
    %             $MCC_{1}$ & 1 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 1 & 0 \\ \hline
    %             $MCC_{2}$ & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 1 \\ \hline
    %             $MCC_{4}$ & 0 & 1 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 \\ \hline
    %             $MCC_{5}$ & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 \\ \hline
    %             $MCC_{8}$ & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 \\ \hline
    %             $MCC_{9}$ & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 & 1 \\ \hline
    %             $MCC_{10}$ & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 1 & 0 \\ \hline
    %         \end{tabular}%
    %     }
    % \end{table}
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
            \begin{tabular}{|c|c|c|c|c|c|c|}
                \hline
                $MCC$ & $\mu O_{1}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{6}$ & $\mu O_{8}$ \\ \hline
                $MCC_{1}$ & 0 & 0 & 0 & 1 & 1 \\ \hline
                $MCC_{2}$ & 0 & 0 & 0 & 0 & 0 \\ \hline
                $MCC_{4}$ & 1 & 0 & 1 & 0 & 0 \\ \hline
                $MCC_{5}$ & 1 & 0 & 0 & 1 & 0 \\ \hline
                $MCC_{8}$ & 0 & 1 & 0 & 0 & 1 \\ \hline
                $MCC_{9}$ & 0 & 1 & 0 & 0 & 0 \\ \hline
                $MCC_{10}$ & 0 & 0 & 1 & 0 & 1 \\ \hline
            \end{tabular}%
        }
    \end{table}
    \note{
        The essential compatible classes are the ones that contain a micro-operation that is not in any other compatible class.
        Remove the essential compatible classes from the table and add them to the solution set.
     }
\end{frame}

\begin{frame}
    \frametitle{Solution - Remaining compatible classes}
    $MCC_{2}$ and $MCC_{9}$ does not contain any micro-operation that is not in any other compatible class. So we can remove them from the table.   
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
            \begin{tabular}{|c|c|c|c|c|c|c|}
                \hline
                $MCC$ & $\mu O_{1}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{6}$ & $\mu O_{8}$ \\ \hline
                $MCC_{1}$ & 0 & 0 & 0 & 1 & 1 \\ \hline
                $MCC_{4}$ & 1 & 0 & 1 & 0 & 0 \\ \hline
                $MCC_{5}$ & 1 & 0 & 0 & 1 & 0 \\ \hline
                $MCC_{8}$ & 0 & 1 & 0 & 0 & 1 \\ \hline
                $MCC_{10}$ & 0 & 0 & 1 & 0 & 1 \\ \hline
            \end{tabular}%
        }
    \end{table}
    This makes $MCC_{8}$ an essential compatible class. Remove it from the table and add it to the solution set.
    $S = \{MCC_{0}, MCC_{6}, MCC_{8}\}$.
\end{frame}

\begin{frame}
    \frametitle{Solution - Remaining compatible classes}
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
            \begin{tabular}{|c|c|c|c|c|c|c|}
                \hline
                $MCC$ & $\mu O_{1}$ & $\mu O_{4}$ & $\mu O_{6}$ \\ \hline
                $MCC_{1}$ & 0 & 0 & 1 \\ \hline
                $MCC_{4}$ & 1 & 1 & 0 \\ \hline
                $MCC_{5}$ & 1 & 0 & 1 \\ \hline
                $MCC_{10}$ & 0 & 1 & 0 \\ \hline
            \end{tabular}%
        }
    \end{table}
    The possible additions solution sets are: $\{MCC_{1}, MCC_{4}\}$, $\{MCC_{4}, MCC_{5}\}$, $\{MCC_{5}, MCC_{10}\}$.
    The possible sollution sets are: $\{MCC_{0}, MCC_{6}, MCC_{8}, MCC_{1}, MCC_{4}\}$, $\{MCC_{0}, MCC_{6}, MCC_{8}, MCC_{4}, MCC_{5}\}$, $\{MCC_{0}, MCC_{6}, MCC_{8}, MCC_{5}, MCC_{10}\}$.
\end{frame}

\begin{frame}
    \frametitle{Solution - Minimal microinstruction coding}
    The table with all micro operations and the selected compatible classes.
    \begin{table}
        \resizebox{0.8\textwidth}{!}{%
            \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
                \hline
                $MCC$ & $\mu O_{0}$ & $\mu O_{1}$ & $\mu O_{2}$ & $\mu O_{3}$ & $\mu O_{4}$ & $\mu O_{5}$ & $\mu O_{6}$ & $\mu O_{7}$ & $\mu O_{8}$ & $\mu O_{9}$ & $|MCC|$ \\ \hline
                $MCC_{0}$ & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 2\\ \hline
                $MCC_{1}$ & 1 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 1 & 0 & 3\\ \hline
                $MCC_{4}$ & 0 & 1 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 3\\ \hline
                $MCC_{5}$ & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 2\\ \hline
                $MCC_{6}$ & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 1 & 3\\ \hline
                $MCC_{8}$ & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 1 & 0 & 2\\ \hline
                $MCC_{10}$ & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 1 & 0 & 2\\ \hline
            \end{tabular}%
        }
    \end{table}
    Order the maximum compatible classes in the solution set by their cardinality.
\end{frame}


\begin{frame}
    \frametitle{Solution - Minimal microinstruction coding}
    The cost for the solutions are:
    \begin{itemize}
        \item $C(S_{0}) = \{ (\mu O_{2}, \mu O_{7}, \mu O_{9}), (\mu O_{0}, \mu O_{6}, \mu O_{8}), (\mu O_{1}, \mu O_{4}), (\mu O_{3}), (\mu O_{5}) \} = 8$
        \item $C(S_{1}) = \{ (\mu O_{2}, \mu O_{7}, \mu O_{9}), (\mu O_{0}, \mu O_{5}), (\mu O_{1}, \mu O_{6}), (\mu O_{8}, \mu O_{3}), (\mu O_{4})  \} = 9$
        \item $C(S_{2}) = \{ (\mu O_{2}, \mu O_{7}, \mu O_{9}), (\mu O_{1}, \mu O_{6}), (\mu O_{0}, \mu O_{5}), (\mu O_{3}, \mu O_{8}), (\mu O_{4}) \} = 9$
    \end{itemize}
    The minimal microinstruction coding is $S_{0} = \{MCC_{0}, MCC_{6}, MCC_{8}, MCC_{1}, MCC_{4}\}$.
\end{frame}